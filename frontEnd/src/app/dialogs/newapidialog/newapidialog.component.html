<h2 mat-dialog-title>Create A New API Repository</h2>


<form [formGroup]="newApiRepoForm" class="example-form" style="overflow: hidden;" (ngSubmit)="createApiRepo(newApiRepoForm)">
<mat-dialog-content>
    <mat-form-field class="example-full-width">
      <input matInput placeholder="API Name" formControlName="apiName">
      <mat-hint align="end">Api Repository Name. 2 to 50 characters allowed.</mat-hint>
      <mat-error *ngIf="newApiRepoForm.touched && newApiRepoForm.controls.apiName.errors?.required">API Repository Name is Required.</mat-error>
    </mat-form-field>
    <mat-form-field class="example-full-width">
      <textarea cols="2" matInput placeholder="Description" formControlName="description"></textarea>
      <mat-hint align="end">Api Repository Description. 2 to 200 characters allowed.</mat-hint>
      <mat-error *ngIf="newApiRepoForm.touched && newApiRepoForm.controls.description.errors?.required">API Repository Description is Required.</mat-error>
    </mat-form-field>

    <section class="example-section">
      <h5>Developers to Involve:</h5>
      <span formArrayName="developers" *ngFor="let developer of newApiRepoForm.controls.developers.controls; let i = index">
        <mat-checkbox class="example-margin" [formControlName]="i" [value]="developer.name">{{DEVELOPERS[i].name}}</mat-checkbox>
      </span>
    </section>
    <br/><br/>
    <mat-divider></mat-divider>
    <h5>Choose project date range</h5>
    <table cellspacing="0" class="example-full-width">
      <tr>
        <td style="padding-right: 10px;">
          <mat-form-field class="example-full-width">
            <input matInput [matDatepicker]="picker" placeholder="Choose a start date" formControlName="startdate">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-hint align="end">Start date of API Project</mat-hint>
            <mat-error *ngIf="newApiRepoForm.touched && newApiRepoForm.controls.startdate.errors?.required">API Project Start Date is Required.</mat-error>
          </mat-form-field>
        </td>
        <td>
          <mat-form-field class="example-full-width">
            <input matInput [matDatepicker]="picker1" placeholder="Choose end date" formControlName="enddate">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
            <mat-hint align="end">End date of API Project</mat-hint>
            <mat-error *ngIf="newApiRepoForm.touched && newApiRepoForm.controls.enddate.errors?.required">API Repository End Date is Required.</mat-error>
          </mat-form-field>
        </td>
      </tr>
    </table>

</mat-dialog-content>

<mat-dialog-actions>
<button mat-raised-button color="accent">
    <mat-icon>clear</mat-icon>
    Cancel
  </button>
  <button mat-raised-button color="warn">
    <mat-icon>done_outline</mat-icon>
    Save
  </button>
</mat-dialog-actions>

</form>
